Измерение времени работы показало, что на малом числе потоков программа работает быстрее и std::mutex эффективнее Futex.

Если потоков много, то время тратится на переключение контекстов, которое происходит очень часто.

Futex получился не очень эффективным наверное из-за возни с std::hash
